webpackJsonp([2],{"1p02":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{height:"100%"}},[n("el-row",{style:{height:"100%"}},[n("el-col",{style:{height:"100%"},attrs:{span:5}},[n("div",{staticClass:"m-authsManage-tree"},[n("el-input",{style:{marginBottom:"10px"},attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),n("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[n("el-button-group",[n("el-button",{attrs:{plain:"",size:"mini",icon:"el-icon-plus"},on:{click:e.onCompanyAddEvent}},[e._v("新增公司")]),e._v(" "),n("el-button",{attrs:{plain:"",size:"mini",icon:"el-icon-plus"},on:{click:e.onGroupAddEvent}},[e._v("新增分组")])],1)],1),e._v(" "),n("el-tree",{ref:"tree",attrs:{data:e.userTree,props:e.defaultProps,"highlight-current":!0,indent:8,"filter-node-method":e.filterNode,"render-content":e.renderContent,"default-expand-all":!0,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),n("el-col",{style:{height:"100%"},attrs:{span:19}},[n("div",{staticClass:"m-authsManage-userManage"},[n("div",{staticClass:"m-authsManage-userManage-header"},[n("el-button",{staticClass:"add_btn",attrs:{size:"medium",type:"primary"},on:{click:e.onUserAddEvent}},[e._v("新增用户")]),e._v(" "),n("el-input",{style:{width:"256px"},attrs:{placeholder:"输入用户名进行过滤"},model:{value:e.filterUsername,callback:function(t){e.filterUsername=t},expression:"filterUsername"}})],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.rowWithFilter,stripe:""}},[e._l(e.cols,function(e){return n("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:e.width}})}),e._v(" "),n("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e._f("dateFormat")(t.row.created_at,"yyyy-MM-dd HH:mm:ss"))+"\n            ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"last_time",label:"最近登录时间",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e._f("dateFormat")(t.row.last_time,"yyyy-MM-dd HH:mm:ss"))+"\n            ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"enable",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:1===t.row.enable?"success":"danger","close-transition":""}},[e._v(e._s(1===t.row.enable?"启用中":"禁用中"))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},nativeOn:{click:function(n){return n.preventDefault(),e.onUserEditEvent(t.$index)}}},[e._v("\n                编辑\n              ")]),e._v(" "),n("el-button",{attrs:{type:"text"},nativeOn:{click:function(n){return n.preventDefault(),e.onChangeUserState(t.$index)}}},[e._v("\n                "+e._s(1===t.row.enable?"禁用":"启用")+"\n              ")]),e._v(" "),n("el-button",{attrs:{type:"text"},nativeOn:{click:function(n){return n.preventDefault(),e.onUserDelEvent(t.$index)}}},[e._v("\n                删除\n              ")])]}}])})],2),e._v(" "),n("el-dialog",{staticClass:"m-authsManage-userManage-dialog",attrs:{"append-to-body":"",title:e.isEdit?"编辑用户":"新增用户",visible:e.showEditDialog,width:"900px"},on:{"update:visible":function(t){e.showEditDialog=t}}},[n("el-form",{ref:"itemForm",attrs:{inline:!0,model:e.item,"label-position":"right",rules:e.rules,"label-width":"80px"}},[e.isEdit?n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{attrs:{"auto-complete":"off",disabled:e.isEdit},model:{value:e.item.id,callback:function(t){e.$set(e.item,"id",t)},expression:"item.id"}})],1):e._e(),e._v(" "),n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.item.username,callback:function(t){e.$set(e.item,"username",t)},expression:"item.username"}})],1),e._v(" "),n("br"),e._v(" "),e.isEdit?e._e():n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.item.password,callback:function(t){e.$set(e.item,"password",t)},expression:"item.password"}})],1),e._v(" "),n("br"),e._v(" "),e.isEdit?e._e():n("el-form-item",{attrs:{label:"确认密码",prop:"password_again"}},[n("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.item.password_again,callback:function(t){e.$set(e.item,"password_again",t)},expression:"item.password_again"}})],1),e._v(" "),e.isEdit?e._e():n("br"),e._v(" "),n("el-form-item",{attrs:{label:"所属公司",prop:"company_id"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.item.company_id,callback:function(t){e.$set(e.item,"company_id",t)},expression:"item.company_id"}},e._l(e.dict.company,function(e){return n("el-option",{key:e.company_id,attrs:{label:e.company_name,value:e.company_id}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"所属分组",prop:"group_id"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.item.group_id,callback:function(t){e.$set(e.item,"group_id",t)},expression:"item.group_id"}},e._l(e.item_groups,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),n("br"),e._v(" "),n("el-form-item",{attrs:{label:"所属部门",prop:"department_id"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.item.department_id,callback:function(t){e.$set(e.item,"department_id",t)},expression:"item.department_id"}},e._l(e.dict.department,function(e){return n("el-option",{key:e.company_id,attrs:{label:e.department,value:e.department_id}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"角色",prop:"role_id"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.item.role_id,callback:function(t){e.$set(e.item,"role_id",t)},expression:"item.role_id"}},e._l(e.dict.role,function(e){return n("el-option",{key:e.role_id,attrs:{label:e.role_name,value:e.role_id}})}),1)],1),e._v(" "),n("br"),e._v(" "),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{style:{width:"300px"},attrs:{type:"textarea",placeholder:"请输入描述",rows:4},model:{value:e.item.descript,callback:function(t){e.$set(e.item,"descript",t)},expression:"item.descript"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.showEditDialog=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.onUserDialogComfirm}},[e._v("确 定")])],1)],1),e._v(" "),n("el-dialog",{staticClass:"m-authsManage-companiesManage-dialog",attrs:{"append-to-body":"",title:e.isCompanyEdit?"编辑公司":"新增公司",visible:e.showCompanyEditDialog},on:{"update:visible":function(t){e.showCompanyEditDialog=t}}},[n("el-form",{ref:"companyForm",attrs:{model:e.companyItem,rules:e.companyRules,"label-position":"right","label-width":"80px"}},[e.isCompanyEdit?n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.companyItem.company_id,callback:function(t){e.$set(e.companyItem,"company_id",t)},expression:"companyItem.company_id"}})],1):e._e(),e._v(" "),n("el-form-item",{attrs:{label:"名称",prop:"company_name"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.companyItem.company_name,callback:function(t){e.$set(e.companyItem,"company_name",t)},expression:"companyItem.company_name"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.showCompanyEditDialog=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.onCompanyDialogComfirm}},[e._v("确 定")])],1)],1),e._v(" "),n("el-dialog",{staticClass:"m-authsManage-groupsManage-dialog",attrs:{"append-to-body":"",title:e.isGroupEdit?"编辑分组":"新增分组",visible:e.showGroupEditDialog},on:{"update:visible":function(t){e.showGroupEditDialog=t}}},[n("el-form",{ref:"groupForm",attrs:{model:e.groupItem,rules:e.groupRules,"label-position":"right","label-width":"80px"}},[e.isGroupEdit?n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.groupItem.group_id,callback:function(t){e.$set(e.groupItem,"group_id",t)},expression:"groupItem.group_id"}})],1):e._e(),e._v(" "),n("el-form-item",{attrs:{label:"名称",prop:"group_name"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.groupItem.group_name,callback:function(t){e.$set(e.groupItem,"group_name",t)},expression:"groupItem.group_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"所属公司",prop:"company_id"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.groupItem.company_id,callback:function(t){e.$set(e.groupItem,"company_id",t)},expression:"groupItem.company_id"}},e._l(e.dict.company,function(e){return n("el-option",{key:e.company_id,attrs:{label:e.company_name,value:e.company_id}})}),1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.showGroupEditDialog=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.onGroupDialogComfirm}},[e._v("确 定")])],1)],1)],1)])],1)],1)},a=[],o={render:s,staticRenderFns:a};t.a=o},HdEu:function(e,t,n){t=e.exports=n("UTlt")(!0),t.push([e.i,"\n.m-authsManage-userManage-dialog .el-input {\n  width: 300px;\n}\n.m-authsManage-userManage-dialog .el-form {\n  padding: 20px;\n}\n.m-authsManage-userManage-header{\n  margin-bottom: 20px;\n  /* min-width: 1000px; */\n}\n.m-authsManage-userManage-header .add_btn{\n  /* float: right; */\n}\n.m-authsManage-tree{\n  padding: 20px 10px;\n  margin: 0 5px;\n}\n.m-authsManage-userManage{\n  border-left: 1px #ddd solid;\n  padding: 20px;\n  height: 100%;\n}\n.m-authsManage-companiesManage-dialog .el-input {\n  width: 300px;\n}\n.m-authsManage-companiesManage-dialog .el-form {\n  padding: 20px;\n}\n.m-authsManage-groupsManage-dialog .el-input {\n  width: 300px;\n}\n.m-authsManage-groupsManage-dialog .el-form {\n  padding: 20px;\n}\n","",{version:3,sources:["D:/vue_source/sku-manage/src/modules/authsManage/usersManage.vue"],names:[],mappings:";AACA;EACE,aAAa;CACd;AACD;EACE,cAAc;CACf;AACD;EACE,oBAAoB;EACpB,wBAAwB;CACzB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,mBAAmB;EACnB,cAAc;CACf;AACD;EACE,4BAA4B;EAC5B,cAAc;EACd,aAAa;CACd;AACD;EACE,aAAa;CACd;AACD;EACE,cAAc;CACf;AACD;EACE,aAAa;CACd;AACD;EACE,cAAc;CACf",file:"usersManage.vue",sourcesContent:["\n.m-authsManage-userManage-dialog .el-input {\n  width: 300px;\n}\n.m-authsManage-userManage-dialog .el-form {\n  padding: 20px;\n}\n.m-authsManage-userManage-header{\n  margin-bottom: 20px;\n  /* min-width: 1000px; */\n}\n.m-authsManage-userManage-header .add_btn{\n  /* float: right; */\n}\n.m-authsManage-tree{\n  padding: 20px 10px;\n  margin: 0 5px;\n}\n.m-authsManage-userManage{\n  border-left: 1px #ddd solid;\n  padding: 20px;\n  height: 100%;\n}\n.m-authsManage-companiesManage-dialog .el-input {\n  width: 300px;\n}\n.m-authsManage-companiesManage-dialog .el-form {\n  padding: 20px;\n}\n.m-authsManage-groupsManage-dialog .el-input {\n  width: 300px;\n}\n.m-authsManage-groupsManage-dialog .el-form {\n  padding: 20px;\n}\n"],sourceRoot:""}])},gsED:function(e,t,n){"use strict";function s(e){n("yMfc")}Object.defineProperty(t,"__esModule",{value:!0});var a=n("kz5A"),o=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);var i=n("1p02"),l=n("C7Lr"),d=s,u=l(o.a,i.a,!1,d,null,null);t.default=u.exports},kz5A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("4650");t.default={data:function(){var e=this;return{dict:{},cols:[{prop:"id",label:"ID",width:80},{prop:"username",label:"用户名"},{prop:"company_name",label:"所属公司"},{prop:"department_name",label:"部门"},{prop:"group_name",label:"组别"},{prop:"role_name",label:"角色"}],rows:[],item:{},item_groups:[],item_roles:[],rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],password_again:[{validator:function(t,n,s){""===n?s(new Error("请再次输入密码")):n!==e.item.password?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],company_id:[{type:"number",required:!0,message:"请选择所属公司",trigger:"change"}],group_id:[{type:"number",required:!0,message:"请选择分组",trigger:"change"}],department_id:[{type:"number",required:!0,message:"请选择所属部门",trigger:"change"}],role_id:[{type:"number",required:!0,message:"请选择角色",trigger:"change"}]},loading:!0,showEditDialog:!1,isEdit:!1,searchKeyword:"",userTree:[],defaultProps:{children:"children",label:"label"},filterText:"",filterUsername:"",companyItem:{},companyRules:{company_name:[{required:!0,message:"请输入公司名称",trigger:"blur"}]},showCompanyEditDialog:!1,isCompanyEdit:!1,groupItem:{},groupRules:{group_name:[{required:!0,message:"请输入分组名称",trigger:"blur"}],company_id:[{type:"number",required:!0,message:"请选择所属公司",trigger:"change"}]},showGroupEditDialog:!1,isGroupEdit:!1}},watch:{"item.company_id":function(e){e&&this.fetchGroups(e)},filterText:function(e){this.$refs.tree.filter(e)}},computed:{rowWithFilter:function(){var e=this;return""!==this.filterUsername?this.rows.filter(function(t){return t.username.includes(e.filterUsername)}):this.rows}},methods:{handleNodeClick:function(e,t){switch(t.level){case 1:this.loading=!0,this.fetchUserList();break;case 2:this.loading=!0,this.fetchUserList({company_id:e.id});break;case 3:this.loading=!0,this.fetchUserList({group_id:e.id})}},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},renderContent:function(e,t){var n=this,s=t.node,a=t.data;t.store;return 1===s.level?e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[s.label])])]):e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[s.label])]),e("span",[e("a",{style:"color:#409EFF",attrs:{href:"javascript:void(0)"},on:{click:function(){return n.tree_edit(s,a)}}},[e("i",{attrs:{size:"mini"},class:"el-icon-edit"})]),e("a",{style:"color:#409EFF;margin-left:10px",attrs:{href:"javascript:void(0)"},on:{click:function(){return n.tree_remove(s,a)}}},[e("i",{attrs:{size:"mini"},class:"el-icon-delete"})])])])},tree_edit:function(e,t){switch(window.event.stopPropagation(),e.level){case 2:this.editCompany(t.id);break;case 3:this.editGroup(t.id)}},tree_remove:function(e,t){window.event.stopPropagation(),2===e.level?this.removeCompany(t.id):3===e.level&&this.removeGroup(t.id)},removeCompany:function(e){var t=this;this.$confirm("本次操作将永久删除该公司, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteCompany({company_id:e}).then(function(e){t.fetchUserTree(),t.fetchDict()})}).catch(function(){})},removeGroup:function(e){var t=this;this.$confirm("本次操作将永久删除该分组, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteGroup({group_id:e}).then(function(e){t.fetchUserTree(),t.fetchDict()})}).catch(function(){})},editCompany:function(e){var t=this;this.getCompany({company_id:e}).then(function(e){t.companyItem=e.data[0],t.isCompanyEdit=!0,t.showCompanyEditDialog=!0})},onCompanyDialogComfirm:function(){var e=this;this.$refs.companyForm.validate(function(t){if(!t)return!1;e.isCompanyEdit?e.updateCompany({company_id:e.companyItem.company_id,company_name:e.companyItem.company_name}).then(function(t){e.showCompanyEditDialog=!1,e.fetchUserTree(),e.fetchDict()}):e.addCompany(e.companyItem).then(function(t){e.showCompanyEditDialog=!1,e.fetchUserTree(),e.fetchDict()})})},editGroup:function(e){var t=this;this.getGroup({group_id:e}).then(function(e){t.groupItem=e.data[0],t.isGroupEdit=!0,t.showGroupEditDialog=!0})},onGroupDialogComfirm:function(){var e=this;this.$refs.groupForm.validate(function(t){if(!t)return!1;e.isGroupEdit?e.updateGroup({group_id:e.groupItem.group_id,group_name:e.groupItem.group_name,company_id:e.groupItem.company_id}).then(function(t){e.showGroupEditDialog=!1,e.fetchUserTree(),e.fetchDict()}):e.addGroup(e.groupItem).then(function(t){e.showGroupEditDialog=!1,e.fetchUserTree(),e.fetchDict()})})},onCompanyAddEvent:function(){this.companyItem={company_name:""},this.isCompanyEdit=!1,this.showCompanyEditDialog=!0,this.$refs.companyForm&&this.$refs.companyForm.clearValidate()},onGroupAddEvent:function(){this.groupItem={group_name:"",company_id:null},this.isGroupEdit=!1,this.showGroupEditDialog=!0,this.$refs.groupForm&&this.$refs.groupForm.clearValidate()},onUserAddEvent:function(){this.isEdit=!1,this.item_groups=[],this.item_roles=[],this.item={username:"",password:"",password_again:"",company_id:null,group_id:null,role_id:null,department_id:null,descript:"",enable:1},this.showEditDialog=!0},onUserEditEvent:function(e){this.item={index:e,id:this.rows[e].id,username:this.rows[e].username,company_id:this.rows[e].company_id,group_id:this.rows[e].group_id,role_id:this.rows[e].role_id,department_id:this.rows[e].department_id,descript:this.rows[e].descript},this.isEdit=!0,this.showEditDialog=!0},onUserDialogComfirm:function(){var e=this;this.$refs.itemForm.validate(function(t){if(!t)return!1;if(e.isEdit){if(e.item.username===e.rows[e.item.index].username&&e.item.company_id===e.rows[e.item.index].company_id&&e.item.group_id===e.rows[e.item.index].group_id&&e.item.role_id===e.rows[e.item.index].role_id&&e.item.department_id===e.rows[e.item.index].department_id&&e.item.descript===e.rows[e.item.index].descript)return e.$message("无任何修改！"),!1;e.updateUser({user_id:e.item.id,username:e.item.username,company_id:e.item.company_id,group_id:e.item.group_id,role_id:e.item.role_id,department_id:e.item.department_id,descript:e.item.descript}).then(function(t){e.showEditDialog=!1,e.fetchList()})}else e.addUser(e.item).then(function(t){e.showEditDialog=!1,e.fetchList()})})},onChangeUserState:function(e){var t=this,n=1===this.rows[e].enable?"禁用":"启用",s=1===this.rows[e].enable?-1:1;this.$confirm("本次操作将"+n+"该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.updateUser({user_id:t.rows[e].id,enable:s}).then(function(e){t.fetchList()})})},onUserDelEvent:function(e){var t=this;this.$confirm("本次操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteUser({user_id:t.rows[e].id}).then(function(e){t.fetchList()})})},fetchDict:function(){var e=this,t=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+t+"/dict",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"GET"}).then(function(t){e.dict=t.data}).catch(function(t){e.$message.error(t.response.data.msg)})},fetchUserTree:function(){var e=this,t=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+t+"/tree",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"GET"}).then(function(t){var n=[{id:0,label:"全部用户",children:t.data.userTree}];e.userTree=n}).catch(function(t){e.$message.error(t.response.data.msg)})},fetchUserList:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/user/list",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"GET",params:e}).then(function(e){t.rows=e.data,t.loading=!1}).catch(function(e){t.$message.error(e.response.data.msg)})},fetchGroups:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/group/list",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"GET",params:{company_id:e}}).then(function(e){t.item_groups=e.data}).catch(function(e){t.$message.error(e.response.data.msg)})},fetchRoles:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/role/list",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"GET",params:{department_id:e}}).then(function(e){t.item_roles=e.data}).catch(function(e){t.$message.error(e.response.data.msg)})},addUser:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/user/create",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"POST",data:e}).then(function(e){t.$message({message:"新增用户成功，请在列表中查看！",type:"success"})}).catch(function(e){t.$message.error(e.response.data.msg)})},updateUser:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/user/update",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"POST",data:e}).then(function(e){t.$message({message:"编辑用户成功，请在列表中查看！",type:"success"})}).catch(function(e){t.$message.error(e.response.data.msg)})},deleteUser:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/user/delete",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"POST",data:e}).then(function(e){t.$message({message:"删除用户成功，请在列表中查看！",type:"success"})}).catch(function(e){t.$message.error(e.response.data.msg)})},getCompany:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/company",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"GET",params:e}).then(function(e){return e}).catch(function(e){t.$message.error(e.response.data.msg)})},getGroup:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/group",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"GET",params:e}).then(function(e){return e}).catch(function(e){t.$message.error(e.response.data.msg)})},updateCompany:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/company/update",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"POST",data:e}).then(function(e){t.$message({message:"编辑公司成功！",type:"success"})}).catch(function(e){t.$message.error(e.response.data.msg)})},updateGroup:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/group/update",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"POST",data:e}).then(function(e){t.$message({message:"编辑分组成功！",type:"success"})}).catch(function(e){t.$message.error(e.response.data.msg)})},addCompany:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/company/add",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"POST",data:e}).then(function(e){t.$message({message:"新增公司成功！",type:"success"})}).catch(function(e){t.$message.error(e.response.data.msg)})},addGroup:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/group/add",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"POST",data:e}).then(function(e){t.$message({message:"新增分组成功！",type:"success"})}).catch(function(e){t.$message.error(e.response.data.msg)})},deleteCompany:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/company/del",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"POST",data:e}).then(function(e){t.$message({message:"删除公司成功！",type:"success"})}).catch(function(e){t.$message.error(e.response.data.msg)})},deleteGroup:function(e){var t=this,n=sessionStorage.getItem("ts_user_id");return(0,s.rest)({url:"/v1/inspect/"+n+"/group/del",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"POST",data:e}).then(function(e){t.$message({message:"删除分组成功！",type:"success"})}).catch(function(e){t.$message.error(e.response.data.msg)})}},mounted:function(){this.fetchUserList(),this.fetchDict(),this.fetchUserTree()}}},yMfc:function(e,t,n){var s=n("HdEu");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);n("FIqI")("de0f5a12",s,!0,{})}});
//# sourceMappingURL=2.e106bde9f308e3b209b2.js.map