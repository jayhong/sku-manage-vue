{"version":3,"sources":["webpack:///static/js/5.ce3cc5b3653f2d69dea5.js","webpack:///./src/modules/authsManage/purchaseManage.vue","webpack:///./src/modules/authsManage/purchaseManage.vue?c98e","webpack:///./src/modules/authsManage/purchaseManage.vue?3ff3","webpack:///./src/modules/authsManage/purchaseManage.vue?f309","webpack:///src/modules/authsManage/purchaseManage.vue"],"names":["webpackJsonp","AeU6","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_purchaseManage_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_purchaseManage_vue___default","n","__WEBPACK_IMPORT_KEY__","key","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_02a7eed7_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_purchaseManage_vue__","normalizeComponent","__vue_styles__","Component","a","E2XZ","exports","content","i","locals","P9F+","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","PlNS","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","model","form","label-width","span","label","callback","$$v","$set","expression","_v","min","max","on","change","handleChange","type","click","onAddSkuEvent","onCancelSkuEvent","directives","name","rawName","staticStyle","width","data","rows","stripe","prop","scopedSlots","_u","fn","scope","_l","row","sku","index","_s","min-width","url","href","target","placement","title","trigger","height","display","src","image_url","slot","alt","nativeOn","$event","preventDefault","onEditEvent","$index","onDetailEvent","append-to-body","isEdit","visible","showEditDialog","update:visible","items","size","cancelSkuEdit","number","confirmSkuEdit","edit","onDelEvent","_e","staticRenderFns","esExports","SpS4","_defineProperty","obj","enumerable","configurable","writable","_request","default","_ref","rules","role_name","required","message","department_id","loading","skuLoading","methods","fetchList","_this","uid","sessionStorage","getItem","rest","role_id","headers","X-Inspect-Token","method","then","res","catch","$message","error","response","msg","addItem","_this2","updateItem","_this3","deleteItem","_this4","_this5","console","log","num","parseInt","_this6","purchase_list","map","v","originalNumber","$refs","clearValidate","_this7","$confirm","confirmButtonText","cancelButtonText","splice","indexOf","purchase_id","id","_this8","mounted","$route","query"],"mappings":"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","file":"static/js/5.ce3cc5b3653f2d69dea5.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ \"AeU6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_purchaseManage_vue__ = __webpack_require__(\"SpS4\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_purchaseManage_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_purchaseManage_vue__);\n/* harmony namespace reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_purchaseManage_vue__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_purchaseManage_vue__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_02a7eed7_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_purchaseManage_vue__ = __webpack_require__(\"PlNS\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"E2XZ\")\n}\nvar normalizeComponent = __webpack_require__(\"C7Lr\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_purchaseManage_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_02a7eed7_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_purchaseManage_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"E2XZ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"P9F+\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"25ea8458\", content, true, {});\n\n/***/ }),\n\n/***/ \"P9F+\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.m-authsManage-purchaseManage{\\n  padding: 20px;\\n}\\n.m-authsManage-purchaseManage-header{\\n  margin-bottom: 20px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-input {\\n  width: 100px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-form {\\n  padding: 20px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-checkbox{\\n  display: block;\\n  margin: 0 !important;\\n}\\n.cancel-btn {\\n  position: absolute;\\n  right: 110px;\\n  top: 18px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/vue_source/sku-manage/src/modules/authsManage/purchaseManage.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,cAAc;CACf;AACD;EACE,oBAAoB;CACrB;AACD;EACE,aAAa;CACd;AACD;EACE,cAAc;CACf;AACD;EACE,eAAe;EACf,qBAAqB;CACtB;AACD;EACE,mBAAmB;EACnB,aAAa;EACb,UAAU;CACX\",\"file\":\"purchaseManage.vue\",\"sourcesContent\":[\"\\n.m-authsManage-purchaseManage{\\n  padding: 20px;\\n}\\n.m-authsManage-purchaseManage-header{\\n  margin-bottom: 20px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-input {\\n  width: 100px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-form {\\n  padding: 20px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-checkbox{\\n  display: block;\\n  margin: 0 !important;\\n}\\n.cancel-btn {\\n  position: absolute;\\n  right: 110px;\\n  top: 18px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"PlNS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-authsManage-purchaseManage\"},[_c('div',{staticClass:\"m-authsManage-purchaseManage-form \"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"sku\"}},[_c('el-input',{model:{value:(_vm.form.sku),callback:function ($$v) {_vm.$set(_vm.form, \"sku\", $$v)},expression:\"form.sku\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"数量\"}},[[_c('el-input-number',{attrs:{\"min\":1,\"max\":1000,\"label\":\"描述文字\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.form.number),callback:function ($$v) {_vm.$set(_vm.form, \"number\", $$v)},expression:\"form.number\"}})]],2)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onAddSkuEvent}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.onCancelSkuEvent}},[_vm._v(\" 重置\")])],1)],1)],1)],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.rows,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"款式名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"size\",\"label\":\"尺码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"SKU\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.sku),function(sku){return _c('div',{key:sku.index},[_c('el-tag',[_vm._v(\"\\n            \"+_vm._s(sku)+\"\\n          \")])],1)})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"采购链接\",\"min-width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.purchase_url),function(url){return _c('div',{key:url.index},[_c('a',{staticClass:\"buttonText\",attrs:{\"href\":url,\"target\":\"url\"}},[_vm._v(_vm._s(url))])])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"image_url\",\"label\":\"款式图\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"right\",\"title\":\"\",\"trigger\":\"hover\"}},[_c('img',{staticStyle:{\"width\":\"300px\",\"height\":\"auto\",\"display\":\"block\"},attrs:{\"src\":scope.row.image_url}}),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"70px\",\"height\":\"auto\",\"display\":\"block\"},attrs:{\"slot\":\"reference\",\"src\":scope.row.image_url,\"alt\":scope.row.image_url},slot:\"reference\"})])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"数量\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.onEditEvent(scope.$index)}}},[_vm._v(\"\\n          编辑\\n        \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.onDetailEvent(scope.$index)}}},[_vm._v(\"\\n          详情\\n        \")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"m-authsManage-purchaseManage-dialog\",attrs:{\"append-to-body\":\"\",\"title\":_vm.isEdit?'编辑采购sku':'采购sku详情',\"visible\":_vm.showEditDialog},on:{\"update:visible\":function($event){_vm.showEditDialog=$event}}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.skuLoading),expression:\"skuLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.items,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"sku\",\"label\":\"sku\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"300px\",\"label\":\"数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?[_c('el-input',{staticClass:\"edit-input\",model:{value:(scope.row.number),callback:function ($$v) {_vm.$set(scope.row, \"number\", $$v)},expression:\"scope.row.number\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"cancel-btn\",attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.cancelSkuEdit(scope.row)}}},[_vm._v(\"\\n            取消\\n          \")])]:_c('span',[_vm._v(_vm._s(scope.row.number))])]}}])}),_vm._v(\" \"),(_vm.isEdit)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.confirmSkuEdit(scope.row)}}},[_vm._v(\"\\n          确定\\n        \")]):_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){scope.row.edit=!scope.row.edit}}},[_vm._v(\"\\n          编辑\\n        \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.onDelEvent(scope.row)}}},[_vm._v(\"\\n          删除\\n        \")])]}}],null,false,1774367963)}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"SpS4\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _request = __webpack_require__(\"4650\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n  data: function data() {\n    var _ref;\n\n    return _ref = {\n      rows: [],\n      items: [],\n      rules: {\n        role_name: [{ required: true, message: '请输入角色名称', trigger: 'blur' }],\n        department_id: [{ type: 'number', required: true, message: '请选择所属部门', trigger: 'change' }]\n      },\n      loading: true,\n      skuLoading: true,\n      isEdit: false,\n      form: {\n        sku: '',\n        number: 0\n      },\n      showEditDialog: false\n    }, _defineProperty(_ref, 'isEdit', false), _defineProperty(_ref, 'role_id', 0), _ref;\n  },\n\n  methods: {\n    fetchList: function fetchList() {\n      var _this = this;\n\n      var uid = sessionStorage.getItem('ts_user_id');\n      var res = (0, _request.rest)({\n        url: '/v1/inspect/' + uid + '/purchase/list?role_id=' + this.role_id,\n        headers: {\n          'X-Inspect-Token': sessionStorage.getItem('ts_userToken')\n        },\n        method: 'GET'\n      }).then(function (res) {\n        _this.rows = res.data;\n        _this.loading = false;\n      }).catch(function (res) {\n        _this.$message.error(res.response.data.msg);\n      });\n    },\n    handleChange: function handleChange(value) {},\n    addItem: function addItem(data) {\n      var _this2 = this;\n\n      var uid = sessionStorage.getItem('ts_user_id');\n      return (0, _request.rest)({\n        url: '/v1/inspect/' + uid + '/purchase/add',\n        headers: {\n          'X-Inspect-Token': sessionStorage.getItem('ts_userToken')\n        },\n        method: 'POST',\n        data: data\n      }).then(function (res) {\n        _this2.$message({\n          message: '新增采购sku成功，请在列表中查看！',\n          type: 'success'\n        });\n      }).catch(function (res) {\n        _this2.$message.error(res.response.data.msg);\n      });\n    },\n    updateItem: function updateItem(data) {\n      var _this3 = this;\n\n      var uid = sessionStorage.getItem('ts_user_id');\n      return (0, _request.rest)({\n        url: '/v1/inspect/' + uid + '/purchase/update',\n        headers: {\n          'X-Inspect-Token': sessionStorage.getItem('ts_userToken')\n        },\n        method: 'POST',\n        data: data\n      }).then(function (res) {\n        _this3.$message({\n          message: '编辑采购sku成功，请在列表中查看！',\n          type: 'success'\n        });\n      }).catch(function (res) {\n        _this3.$message.error(res.response.data.msg);\n      });\n    },\n    deleteItem: function deleteItem(data) {\n      var _this4 = this;\n\n      var uid = sessionStorage.getItem('ts_user_id');\n      return (0, _request.rest)({\n        url: '/v1/inspect/' + uid + '/purchase/delete',\n        headers: {\n          'X-Inspect-Token': sessionStorage.getItem('ts_userToken')\n        },\n        method: 'POST',\n        data: data\n      }).then(function (res) {\n        _this4.$message({\n          message: '删除采购sku成功，请在列表中查看！',\n          type: 'success'\n        });\n      }).catch(function (res) {\n        _this4.$message.error(res.response.data.msg);\n      });\n    },\n    onAddSkuEvent: function onAddSkuEvent() {\n      var _this5 = this;\n\n      console.log(this.form.sku, \" \", this.form.num);\n      this.form.role_id = this.role_id;\n      this.addItem({\n        sku: this.form.sku,\n        number: this.form.number,\n        role_id: parseInt(this.role_id)\n      }).then(function (res) {\n        _this5.fetchList(_this5.role_id);\n      });\n    },\n    onCancelSkuEvent: function onCancelSkuEvent() {\n      this.form.sku = '';\n      this.form.number = 1;\n    },\n    onEditEvent: function onEditEvent(index) {\n      var _this6 = this;\n\n      this.items = this.rows[index].purchase_list.map(function (v) {\n        _this6.$set(v, 'edit', false); // https://vuejs.org/v2/guide/reactivity.html\n        v.originalNumber = v.number; //  will be used when user click the cancel botton\n        return v;\n      });\n\n      this.skuLoading = false;\n      this.isEdit = true;\n      this.showEditDialog = true;\n      this.$refs['itemForm'] ? this.$refs['itemForm'].clearValidate() : null;\n    },\n    onDetailEvent: function onDetailEvent(index) {\n      this.items = this.rows[index].purchase_list;\n      this.isEdit = false;\n      this.skuLoading = false;\n      this.showEditDialog = true;\n      this.$refs['itemForm'] ? this.$refs['itemForm'].clearValidate() : null;\n    },\n    onDelEvent: function onDelEvent(row) {\n      var _this7 = this;\n\n      this.$confirm('本次操作将永久删除该采购sku, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this7.items.splice(_this7.items.indexOf(row), 1);\n        _this7.deleteItem({ purchase_id: row.id }).then(function (res) {\n          _this7.fetchList();\n        });\n      });\n    },\n    cancelSkuEdit: function cancelSkuEdit(row) {\n      row.number = row.originalNumber;\n      row.edit = false;\n      this.$message({\n        message: 'The number has been restored to the original value',\n        type: 'warning'\n      });\n    },\n    confirmSkuEdit: function confirmSkuEdit(row) {\n      var _this8 = this;\n\n      row.edit = false;\n      row.originalNumber = row.number;\n      row.number = parseInt(row.number);\n      this.updateItem(row).then(function (res) {\n        _this8.fetchList();\n      });\n      this.$message({\n        message: 'The number has been edited',\n        type: 'success'\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.role_id = this.$route.query.role_id;\n    this.fetchList();\n  }\n};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.ce3cc5b3653f2d69dea5.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-02a7eed7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./purchaseManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./purchaseManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./purchaseManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02a7eed7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./purchaseManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/authsManage/purchaseManage.vue\n// module id = AeU6\n// module chunks = 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-02a7eed7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./purchaseManage.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"25ea8458\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-02a7eed7\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/modules/authsManage/purchaseManage.vue\n// module id = E2XZ\n// module chunks = 5","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.m-authsManage-purchaseManage{\\n  padding: 20px;\\n}\\n.m-authsManage-purchaseManage-header{\\n  margin-bottom: 20px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-input {\\n  width: 100px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-form {\\n  padding: 20px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-checkbox{\\n  display: block;\\n  margin: 0 !important;\\n}\\n.cancel-btn {\\n  position: absolute;\\n  right: 110px;\\n  top: 18px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/vue_source/sku-manage/src/modules/authsManage/purchaseManage.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,cAAc;CACf;AACD;EACE,oBAAoB;CACrB;AACD;EACE,aAAa;CACd;AACD;EACE,cAAc;CACf;AACD;EACE,eAAe;EACf,qBAAqB;CACtB;AACD;EACE,mBAAmB;EACnB,aAAa;EACb,UAAU;CACX\",\"file\":\"purchaseManage.vue\",\"sourcesContent\":[\"\\n.m-authsManage-purchaseManage{\\n  padding: 20px;\\n}\\n.m-authsManage-purchaseManage-header{\\n  margin-bottom: 20px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-input {\\n  width: 100px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-form {\\n  padding: 20px;\\n}\\n.m-authsManage-purchaseManage-dialog .el-checkbox{\\n  display: block;\\n  margin: 0 !important;\\n}\\n.cancel-btn {\\n  position: absolute;\\n  right: 110px;\\n  top: 18px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-02a7eed7\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/modules/authsManage/purchaseManage.vue\n// module id = P9F+\n// module chunks = 5","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-authsManage-purchaseManage\"},[_c('div',{staticClass:\"m-authsManage-purchaseManage-form \"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"sku\"}},[_c('el-input',{model:{value:(_vm.form.sku),callback:function ($$v) {_vm.$set(_vm.form, \"sku\", $$v)},expression:\"form.sku\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"数量\"}},[[_c('el-input-number',{attrs:{\"min\":1,\"max\":1000,\"label\":\"描述文字\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.form.number),callback:function ($$v) {_vm.$set(_vm.form, \"number\", $$v)},expression:\"form.number\"}})]],2)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onAddSkuEvent}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.onCancelSkuEvent}},[_vm._v(\" 重置\")])],1)],1)],1)],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.rows,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"款式名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"size\",\"label\":\"尺码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"SKU\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.sku),function(sku){return _c('div',{key:sku.index},[_c('el-tag',[_vm._v(\"\\n            \"+_vm._s(sku)+\"\\n          \")])],1)})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"采购链接\",\"min-width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.purchase_url),function(url){return _c('div',{key:url.index},[_c('a',{staticClass:\"buttonText\",attrs:{\"href\":url,\"target\":\"url\"}},[_vm._v(_vm._s(url))])])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"image_url\",\"label\":\"款式图\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"right\",\"title\":\"\",\"trigger\":\"hover\"}},[_c('img',{staticStyle:{\"width\":\"300px\",\"height\":\"auto\",\"display\":\"block\"},attrs:{\"src\":scope.row.image_url}}),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"70px\",\"height\":\"auto\",\"display\":\"block\"},attrs:{\"slot\":\"reference\",\"src\":scope.row.image_url,\"alt\":scope.row.image_url},slot:\"reference\"})])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"数量\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.onEditEvent(scope.$index)}}},[_vm._v(\"\\n          编辑\\n        \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.onDetailEvent(scope.$index)}}},[_vm._v(\"\\n          详情\\n        \")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"m-authsManage-purchaseManage-dialog\",attrs:{\"append-to-body\":\"\",\"title\":_vm.isEdit?'编辑采购sku':'采购sku详情',\"visible\":_vm.showEditDialog},on:{\"update:visible\":function($event){_vm.showEditDialog=$event}}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.skuLoading),expression:\"skuLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.items,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"sku\",\"label\":\"sku\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"300px\",\"label\":\"数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?[_c('el-input',{staticClass:\"edit-input\",model:{value:(scope.row.number),callback:function ($$v) {_vm.$set(scope.row, \"number\", $$v)},expression:\"scope.row.number\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"cancel-btn\",attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.cancelSkuEdit(scope.row)}}},[_vm._v(\"\\n            取消\\n          \")])]:_c('span',[_vm._v(_vm._s(scope.row.number))])]}}])}),_vm._v(\" \"),(_vm.isEdit)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.confirmSkuEdit(scope.row)}}},[_vm._v(\"\\n          确定\\n        \")]):_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){scope.row.edit=!scope.row.edit}}},[_vm._v(\"\\n          编辑\\n        \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.onDelEvent(scope.row)}}},[_vm._v(\"\\n          删除\\n        \")])]}}],null,false,1774367963)}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-02a7eed7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/modules/authsManage/purchaseManage.vue\n// module id = PlNS\n// module chunks = 5","<style>\n  .m-authsManage-purchaseManage{\n    padding: 20px;\n  }\n  .m-authsManage-purchaseManage-header{\n    margin-bottom: 20px;\n  }\n\n  .m-authsManage-purchaseManage-dialog .el-input {\n    width: 100px;\n  }\n  .m-authsManage-purchaseManage-dialog .el-form {\n    padding: 20px;\n  }\n  .m-authsManage-purchaseManage-dialog .el-checkbox{\n    display: block;\n    margin: 0 !important;\n  }\n\n  .cancel-btn {\n    position: absolute;\n    right: 110px;\n    top: 18px;\n  }\n</style>\n<template>\n  <div class=\"m-authsManage-purchaseManage\">\n    <div class=\"m-authsManage-purchaseManage-form \">\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n        <el-row>\n          <el-col :span=\"8\">\n            <el-form-item label=\"sku\">\n              <el-input v-model=\"form.sku\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"5\">\n            <el-form-item label=\"数量\">\n              <template>\n                <el-input-number v-model=\"form.number\" @change=\"handleChange\" :min=\"1\" :max=\"1000\" label=\"描述文字\"></el-input-number>\n              </template>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item>\n              <el-button  type=\"primary\" @click=\"onAddSkuEvent\">添加</el-button>\n              <el-button  @click=\"onCancelSkuEvent\"> 重置</el-button>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>  \n    </div>\n    <el-table\n      v-loading=\"loading\"\n      :data=\"rows\"\n      stripe\n      style=\"width: 100%\">\n      <el-table-column\n        prop=\"name\"\n        label=\"款式名\">\n      </el-table-column>\n      <el-table-column\n        prop=\"size\"\n        label=\"尺码\">\n      </el-table-column>\n      <el-table-column\n        label=\"SKU\">\n         <template slot-scope=\"scope\">\n           <div v-for=\"sku in scope.row.sku\" :key=\"sku.index\">\n             <el-tag>\n              {{ sku }}\n            </el-tag>\n           </div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"采购链接\"\n        min-width=\"300\">\n        <template slot-scope=\"scope\" >\n          <div v-for=\"url in scope.row.purchase_url\" :key=\"url.index\">\n          <a :href=\"url\"\n            target=\"url\"\n            class=\"buttonText\">{{url}}</a>\n          </div>\n        </template>\n      </el-table-column>\n        <el-table-column\n        prop=\"image_url\"\n        label=\"款式图\">\n        <template slot-scope=\"scope\">\n          <el-popover\n            placement=\"right\"\n            title=\"\"\n            trigger=\"hover\">\n            <img :src=\"scope.row.image_url\" style=\"width: 300px;height: auto;display: block;\"/>\n            <img slot=\"reference\" :src=\"scope.row.image_url\" :alt=\"scope.row.image_url\" style=\"width: 70px;height: auto;display: block;\">\n          </el-popover>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"number\"\n        label=\"数量\"\n        width=\"80\">\n      </el-table-column>\n      <el-table-column\n        label=\"操作\"\n        width=\"160\">\n        <template slot-scope=\"scope\">\n          <el-button\n            @click.native.prevent=\"onEditEvent(scope.$index)\"\n            type=\"text\">\n            编辑\n          </el-button>\n          <el-button\n            @click.native.prevent=\"onDetailEvent(scope.$index)\"\n            type=\"text\">\n            详情\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog class=\"m-authsManage-purchaseManage-dialog\" append-to-body :title=\"isEdit?'编辑采购sku':'采购sku详情'\" :visible.sync=\"showEditDialog\">\n      <el-table \n      v-loading=\"skuLoading\"\n      :data=\"items\"\n      stripe\n      style=\"width: 100%\">\n       <el-table-column\n        prop=\"sku\"\n        label=\"sku\">\n      </el-table-column>\n      <el-table-column width=\"300px\" label=\"数量\">\n        <template slot-scope=\"scope\">\n          <template v-if=\"scope.row.edit\">\n            <el-input v-model=\"scope.row.number\" class=\"edit-input\" />\n            <el-button\n              class=\"cancel-btn\"\n              size=\"small\"\n              type=\"warning\"\n              @click=\"cancelSkuEdit(scope.row)\"\n            >\n              取消\n            </el-button>\n          </template>\n          <span v-else>{{ scope.row.number }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column v-if=\"isEdit\"\n        label=\"操作\" width=\"150px\">\n        <template slot-scope=\"scope\">\n          <el-button\n            v-if=\"scope.row.edit\"\n            type=\"success\"\n            size=\"small\"\n            @click=\"confirmSkuEdit(scope.row)\"\n          >\n            确定\n          </el-button>\n          <el-button\n            v-else\n            type=\"primary\"\n            size=\"small\"\n            @click=\"scope.row.edit=!scope.row.edit\"\n          >\n            编辑\n          </el-button>\n          <el-button\n            @click.native.prevent=\"onDelEvent(scope.row)\"\n            type=\"text\">\n            删除\n          </el-button>\n        </template>\n      </el-table-column>\n      </el-table>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { rest } from '@/common/request';\n\nexport default {\n  data(){\n    return {\n      rows: [],\n      items: [],\n      rules: {\n        role_name:[\n          {required: true, message: '请输入角色名称', trigger: 'blur'}\n        ],\n        department_id:[\n          {type: 'number', required: true, message: '请选择所属部门', trigger: 'change'}\n        ]\n      },\n      loading: true,\n      skuLoading: true,\n      isEdit: false,\n      form: {\n        sku: '',\n        number: 0\n      },\n      showEditDialog: false,\n      isEdit: false,\n      role_id: 0\n    }\n  },\n  methods:{\n    fetchList(){\n      let uid = sessionStorage.getItem('ts_user_id');\n      let res = rest({\n        url: '/v1/inspect/'+ uid +'/purchase/list?role_id='+this.role_id,\n        headers:{\n          'X-Inspect-Token': sessionStorage.getItem('ts_userToken')\n        },\n        method: 'GET'\n      }).then(res => {\n        this.rows = res.data;\n        this.loading = false;\n      }).catch(res => {\n        this.$message.error(res.response.data.msg);\n      })\n    },\n    handleChange(value) {\n     \n    },\n    addItem(data){\n      let uid = sessionStorage.getItem('ts_user_id');\n      return rest({\n        url: '/v1/inspect/'+ uid +'/purchase/add',\n        headers:{\n          'X-Inspect-Token': sessionStorage.getItem('ts_userToken')\n        },\n        method: 'POST',\n        data: data\n      }).then(res => {\n        this.$message({\n          message: '新增采购sku成功，请在列表中查看！',\n          type: 'success'\n        });\n      }).catch(res => {\n        this.$message.error(res.response.data.msg);\n      })\n    },\n    updateItem(data){\n      let uid = sessionStorage.getItem('ts_user_id');\n      return rest({\n        url: '/v1/inspect/'+ uid +'/purchase/update',\n        headers:{\n          'X-Inspect-Token': sessionStorage.getItem('ts_userToken')\n        },\n        method: 'POST',\n        data: data\n      }).then(res => {\n        this.$message({\n          message: '编辑采购sku成功，请在列表中查看！',\n          type: 'success'\n        });\n      }).catch(res => {\n        this.$message.error(res.response.data.msg);\n      })\n    },\n    deleteItem(data){\n      let uid = sessionStorage.getItem('ts_user_id');\n      return rest({\n        url: '/v1/inspect/'+ uid +'/purchase/delete',\n        headers:{\n          'X-Inspect-Token': sessionStorage.getItem('ts_userToken')\n        },\n        method: 'POST',\n        data: data\n      }).then(res => {\n        this.$message({\n          message: '删除采购sku成功，请在列表中查看！',\n          type: 'success'\n        });\n      }).catch(res => {\n        this.$message.error(res.response.data.msg);\n      })\n    },\n    onAddSkuEvent(){\n      console.log(this.form.sku, \" \", this.form.num);\n      this.form.role_id = this.role_id\n      this.addItem({\n        sku: this.form.sku,\n        number: this.form.number,\n        role_id: parseInt(this.role_id),\n      }).then(res => {\n         this.fetchList(this.role_id)\n      })\n    },\n    onCancelSkuEvent(){\n        this.form.sku = '';\n        this.form.number = 1;\n    },\n    onEditEvent(index){\n      this.items = this.rows[index].purchase_list.map(v => {\n        this.$set(v, 'edit', false) // https://vuejs.org/v2/guide/reactivity.html\n        v.originalNumber = v.number //  will be used when user click the cancel botton\n        return v\n      })\n\n      this.skuLoading = false\n      this.isEdit = true;\n      this.showEditDialog = true;\n      this.$refs['itemForm']?this.$refs['itemForm'].clearValidate():null;\n    },\n    onDetailEvent(index){\n      this.items = this.rows[index].purchase_list\n      this.isEdit = false;\n      this.skuLoading = false\n      this.showEditDialog = true;\n      this.$refs['itemForm']?this.$refs['itemForm'].clearValidate():null;\n    },\n    onDelEvent(row){\n      this.$confirm('本次操作将永久删除该采购sku, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.items.splice(this.items.indexOf(row), 1);\n        this.deleteItem({purchase_id: row.id}).then(res => {\n          this.fetchList();\n        });\n      })\n    },\n    cancelSkuEdit(row) {\n      row.number = row.originalNumber\n      row.edit = false\n      this.$message({\n        message: 'The number has been restored to the original value',\n        type: 'warning'\n      })\n    },\n    confirmSkuEdit(row) {\n      row.edit = false\n      row.originalNumber = row.number\n      row.number = parseInt(row.number)\n      this.updateItem(row).then(res => {\n        this.fetchList();\n      })\n      this.$message({\n        message: 'The number has been edited',\n        type: 'success'\n      })\n    }\n\n  },\n  mounted(){\n    this.role_id = this.$route.query.role_id\n    this.fetchList();\n  }\n}\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/modules/authsManage/purchaseManage.vue"],"sourceRoot":""}