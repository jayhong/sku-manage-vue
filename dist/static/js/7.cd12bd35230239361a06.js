webpackJsonp([7],{Evbr:function(e,t,o){var a=o("Nx3U");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o("rjj0")("089226c8",a,!0)},Nx3U:function(e,t,o){t=e.exports=o("FZ+f")(!0),t.push([e.i,"\n.m-tongji-should_receive {\n  padding: 20px;\n}\n.m-tongji-should_receive-header {\n  margin-bottom: 20px;\n}\n.m-tongji-should_receive .el-table td{\n  padding: 5px 0;\n}\n.m-tongji-should_receive .el-input-group__prepend{\n  width: 65px;\n}\n.m-tongji-should_receive-dialog .el-input {\n  width: 300px;\n}\n.m-tongji-should_receive-dialog .el-form {\n  padding: 20px;\n}\n","",{version:3,sources:["/Users/wilen/wilen/more/Audit/src/modules/tongji/should_receive.vue"],names:[],mappings:";AACA;EACE,cAAc;CACf;AACD;EACE,oBAAoB;CACrB;AACD;EACE,eAAe;CAChB;AACD;EACE,YAAY;CACb;AACD;EACE,aAAa;CACd;AACD;EACE,cAAc;CACf",file:"should_receive.vue",sourcesContent:["\n.m-tongji-should_receive {\n  padding: 20px;\n}\n.m-tongji-should_receive-header {\n  margin-bottom: 20px;\n}\n.m-tongji-should_receive .el-table td{\n  padding: 5px 0;\n}\n.m-tongji-should_receive .el-input-group__prepend{\n  width: 65px;\n}\n.m-tongji-should_receive-dialog .el-input {\n  width: 300px;\n}\n.m-tongji-should_receive-dialog .el-form {\n  padding: 20px;\n}\n"],sourceRoot:""}])},dMU9:function(e,t,o){"use strict";function a(e){o("Evbr")}Object.defineProperty(t,"__esModule",{value:!0});var n=o("4650"),i=o("JaHG"),s={data:function(){return{cols:[{prop:"CustomerNum",label:"客户编号"},{prop:"customer_name",label:"客户名称"},{prop:"last_left",label:"上期结余",formatter:function(e,t,o){return Object(i.b)(o)}},{prop:"loan_money",label:"本期借方（放款）",formatter:function(e,t,o){return Object(i.b)(o)}},{prop:"receive_money",label:"本期贷方（放款）",formatter:function(e,t,o){return Object(i.b)(o)}},{prop:"this_left",label:"期末结余",formatter:function(e,t,o){return Object(i.b)(o)}}],rows:[],loading:!0,item:{},showEditDialog:!1,page:1,page_size:10,total:0,search:{name:"",customer_number:"",phone:""},keyword:"",selected:null}},methods:{fetchList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:this.page,page_size:this.page_size,customer_name:this.search.name,customer_number:this.search.customer_number},o=sessionStorage.getItem("ts_user_id");return Object(n.a)({url:"/v1/inspect/"+o+"/should_receive",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"POST",data:t}).then(function(t){e.rows=t.data.data,e.total=t.data.total,e.loading=!1}).catch(function(t){e.$message.error(t.response.data.msg)})},updateItem:function(e){var t=this,o=sessionStorage.getItem("ts_user_id");return Object(n.a)({url:"/v1/inspect/"+o+"/customer/update",headers:{"X-Inspect-Token":sessionStorage.getItem("ts_userToken")},method:"POST",data:e}).then(function(e){t.$message({message:"编辑客户信息成功，请在列表中查看！",type:"success"}),t.fetchList(),t.showEditDialog=!1}).catch(function(e){t.$message.error(e.response.data.msg)})},handlePageChange:function(e){this.page=e,this.fetchList()},handleSearch:function(){if(!this.selected)return void this.$message("请先选择搜索类型！");this.search[this.selected]=this.keyword,1==this.page?this.fetchList():this.page=1},onEditEvent:function(e){this.item={customer_id:this.rows[e].customer_id,customer_number:this.rows[e].customer_number,chuanzhen:this.rows[e].chuanzhen,name:this.rows[e].name,commit:this.rows[e].commit,sex:this.rows[e].sex,birth:this.rows[e].birth,phone:this.rows[e].phone,id_card_num:this.rows[e].id_card_num,bank_card_num:this.rows[e].bank_card_num,bank:this.rows[e].bank,bank_name:this.rows[e].bank_name},this.isEdit=!0,this.showEditDialog=!0,this.$refs.itemForm&&this.$refs.itemForm.clearValidate()},onDialogComfirm:function(){var e=this;this.$refs.itemForm.validate(function(t){if(!t)return!1;e.updateItem(e.item)})}},mounted:function(){this.fetchList()}},r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"m-tongji-should_receive"},[o("div",{staticClass:"search",staticStyle:{margin:"15px 0",width:"300px",display:"inline-block"}},[o("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[o("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[o("el-option",{attrs:{label:"客户名",value:"name"}}),e._v(" "),o("el-option",{attrs:{label:"客户编号",value:"customer_number"}})],1),e._v(" "),o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1)],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.rows,stripe:""}},e._l(e.cols,function(e){return o("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,formatter:e.formatter,width:e.width}})})),e._v(" "),o("el-pagination",{staticStyle:{margin:"20px 0","text-align":"center"},attrs:{background:"","page-size":e.page_size,total:e.total,layout:"prev, pager, next","current-page":e.page},on:{"current-change":e.handlePageChange}}),e._v(" "),o("el-dialog",{staticClass:"m-tongji-should_receive-dialog",attrs:{"append-to-body":"",title:"编辑客户信息",visible:e.showEditDialog},on:{"update:visible":function(t){e.showEditDialog=t}}},[o("el-form",{ref:"itemForm",attrs:{model:e.item,"label-position":"right","label-width":"100px"}},[o("el-form-item",{attrs:{label:"客户编号"}},[o("strong",[e._v(e._s(this.item.customer_number))])]),e._v(" "),o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"sex"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.item.sex,callback:function(t){e.$set(e.item,"sex",t)},expression:"item.sex"}},[o("el-option",{attrs:{label:"男",value:1}}),e._v(" "),o("el-option",{attrs:{label:"女",value:0}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"出生日期",prop:"birth"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.item.birth,callback:function(t){e.$set(e.item,"birth",t)},expression:"item.birth"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"传真",prop:"chuanzhen"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.item.chuanzhen,callback:function(t){e.$set(e.item,"chuanzhen",t)},expression:"item.chuanzhen"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.item.phone,callback:function(t){e.$set(e.item,"phone",t)},expression:"item.phone"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"身份证号码",prop:"id_card_num"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.item.id_card_num,callback:function(t){e.$set(e.item,"id_card_num",t)},expression:"item.id_card_num"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"银行卡号码",prop:"bank_card_num"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.item.bank_card_num,callback:function(t){e.$set(e.item,"bank_card_num",t)},expression:"item.bank_card_num"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"银行",prop:"bank"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.item.bank,callback:function(t){e.$set(e.item,"bank",t)},expression:"item.bank"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"开户人",prop:"bank_name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.item.bank_name,callback:function(t){e.$set(e.item,"bank_name",t)},expression:"item.bank_name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容","auto-complete":"off"},model:{value:e.item.commit,callback:function(t){e.$set(e.item,"commit",t)},expression:"item.commit"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.showEditDialog=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.onDialogComfirm}},[e._v("确 定")])],1)],1)],1)},l=[],c={render:r,staticRenderFns:l},m=c,u=o("VU/8"),p=a,d=u(s,m,!1,p,null,null);t.default=d.exports}});
//# sourceMappingURL=7.cd12bd35230239361a06.js.map